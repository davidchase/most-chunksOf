{"version":3,"file":null,"sources":["../src/BufferSinks.js","../src/index.js"],"sourcesContent":["export class FullBufferSink {\n    constructor(n, sink) {\n        this.n = n\n        this.sink = sink\n        this.xs = []\n    }\n    event(time, value) {\n        const sink = this.sink\n        this.xs.push(value)\n        if (this.n === this.xs.length) {\n            let list = this.xs\n            this.xs = []\n            return sink.event(time, list)\n        }\n    }\n    error(time, err) {\n        return this.sink.error(time, err)\n    }\n    end(time, value) {\n        if (this.xs.length > 0) {\n            this.sink.event(time, this.xs)\n        }\n        return this.sink.end(time, value)\n    }\n}\n","/** @license MIT License (c) copyright 2016 original author or authors */\n\nimport { FullBufferSink } from './BufferSinks'\nimport { curry2 } from '@most/prelude'\n\nconst chunksStream = (n, stream, constr) => new stream.constructor({\n    run: (sink, scheduler) => stream.source.run(new constr(n, sink), scheduler)\n})\n\nexport const chunksOf = curry2((n, stream) => chunksStream(n, stream, FullBufferSink))\n"],"names":["const","curry2"],"mappings":";;;;;;AAAO,IAAM,cAAc,GAAC,uBACb,CAAC,CAAC,EAAE,IAAI,EAAE;IACrB,IAAQ,CAAC,CAAC,GAAG,CAAC,CAAA;IACd,IAAQ,CAAC,IAAI,GAAG,IAAI,CAAA;IACpB,IAAQ,CAAC,EAAE,GAAG,EAAE,CAAA;CACf,CAAA;AACL,yBAAI,KAAK,mBAAC,IAAI,EAAE,KAAK,EAAE;IACnB,IAAU,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;IAC1B,IAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;IACvB,IAAQ,IAAI,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE;QAC/B,IAAQ,IAAI,GAAG,IAAI,CAAC,EAAE,CAAA;QACtB,IAAQ,CAAC,EAAE,GAAG,EAAE,CAAA;QAChB,OAAW,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC;KAChC;CACJ,CAAA;AACL,yBAAI,KAAK,mBAAC,IAAI,EAAE,GAAG,EAAE;IACjB,OAAW,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC;CACpC,CAAA;AACL,yBAAI,GAAG,iBAAC,IAAI,EAAE,KAAK,EAAE;IACjB,IAAQ,IAAI,CAAC,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;QACxB,IAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAA;KACjC;IACL,OAAW,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC;CACpC,CAAA;;ACvBL;;AAEA,AACA,AAEAA,IAAM,YAAY,GAAG,UAAC,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,SAAG,IAAI,MAAM,CAAC,WAAW,CAAC;IAC/D,GAAG,EAAE,UAAC,IAAI,EAAE,SAAS,EAAE,SAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,SAAS,CAAC,GAAA;CAC9E,CAAC,GAAA,CAAA;;AAEF,AAAOA,IAAM,QAAQ,GAAGC,oBAAM,CAAC,UAAC,CAAC,EAAE,MAAM,EAAE,SAAG,YAAY,CAAC,CAAC,EAAE,MAAM,EAAE,cAAc,CAAC,GAAA,CAAC,CAAA;;;;;;"}